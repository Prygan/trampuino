#include "tpl_os.h"
#include "Arduino.h"
#include "U8glib/U8glib.h"

#define SCK   13
#define MOSI  11
#define CS    10
#define A0    9
#define RST   8

U8GLIB_NHD_C12864 u8g(SCK, MOSI, CS, A0, RST);

void draw(void) {
    //u8g.drawStr(0, 20, "Kevin est un PD qui suce");
	u8g.setColorIndex(1);
u8g.drawBox(10, 12, 20, 30); 
}

void setup() {
  u8g.setRot180();      // rotate screen, if required
  u8g.setContrast(0);

  u8g.setFont(u8g_font_6x12);//4x6 5x7 5x8 6x10 6x12 6x13
  u8g.setFontRefHeightText();
  u8g.setFontPosTop();

  Serial.begin(9600);
}

TASK(periodicTask) {  

	// picture loop
  u8g.firstPage();  
  do {
    draw();
  } while( u8g.nextPage() );

  // rebuild the picture after some delay
  delay(1000);

}

